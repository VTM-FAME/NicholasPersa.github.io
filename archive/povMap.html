<!DOCTYPE html>
<html>
	
	<head>
		
		<link rel="stylesheet" type="text/css" href="css/archive.css">
			<link rel="stylesheet" href="css/odometer.css" />
			<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700" rel='stylesheet' type='text/css'>
			<link href="https://fonts.googleapis.com/css?family=Basic" rel='stylesheet' type='text/css'>
				
				<script src="js/jquery.min.js"></script>
				<script src="js/odometer.js"></script>
				<script src="js/velocity.js"></script>
				<script src="js/velocity.ui.js"></script>
				<script src="js/Loading.js"></script>
				
	</head>
	
	<body>
		
		<div id="pageHome" class="twenty wrap">
			
			<div id="mapOverlay">
				
				<div id="mapBackground"></div>
				<svg id="svg"><line id="line1"/></svg>
				<div id="milesBox">
					<div id="miles" class="odometer"></div>
					<p id="odoTitle">Miles</p>
				</div>
				
				<div id="outerCircle" class="eighteen heightEighteen">
					<!--<div class="povCircle seventeen heightSeventeen"></div>-->
					<div class="povCircle sixteen heightSixteen"></div>
					<!--<div class="povCircle fifteen heightFifteen"></div>-->
					<div class="povCircle fourteen heightFourteen"></div>
					<!--<div class="povCircle thirteen heightThirteen"></div>-->
					<div class="povCircle twelve heightTwelve"></div>
					<!--<div class="povCircle eleven heightEleven"></div>-->
					<div class="povCircle ten heightTen"></div>
					<!--<div class="povCircle nine heightNine"></div>-->
					<div class="povCircle eight heightEight"></div>
					<!--<div class="povCircle seven heightSeven"></div>-->
					<div class="povCircle six heightSix"></div>
					<!--<div class="povCircle five heightFive"></div>-->
					<div class="povCircle four heightFour"></div>
					<!--<div class="povCircle three heightThree"></div>-->
					<div class="povCircle two heightTwo"></div>
					<!--<div id="centerCircle" class="povCircle one heightOne"></div>-->
					
					<div class="imgCircle ringOne" data-location="Home" data-page="Lantern" data-miles=".5">
						<img src="image/Icon/homeIcon.jpg" />
					</div>
					
					<div class="imgCircle ringTwo" data-location="Centerfold/Centerfold" data-page="Beacon" data-miles="1.5">
						<img src="image/Icon/introIcon.jpg" />
					</div>
					
					<div class="imgCircle ringThree" data-location="About" data-page="Guidepost" data-miles="3.2">
						<img src="image/Icon/aboutIcon.jpg" />
						<!--<p class="viewedText">&#10003;</p>-->
					</div>
					
					<div class="imgCircle ringFour" data-location="Lakeville" data-page="Sentinel" data-miles="13.9">
						<img src="image/Icon/LakevilleIcon.jpg" />
					</div>
					
					<div class="imgCircle ringFive" data-location="Traffic/Traffic" data-page="Indication" data-miles="2.3">
						<img src="image/Icon/TrafficIcon.jpg" />
					</div>
					
					<div class="imgCircle ringSix" data-location="Close/Close" data-page="Landmark" data-miles="1.5">
						<img src="image/Icon/CloseIcon.jpg" />
					</div>
					
					<div class="imgCircle ringSeven" data-location="Across" data-page="Crest" data-miles="11.3">
						<img src="image/Icon/AcrossIcon.jpg" />
					</div>
					
					<div class="imgCircle ringEight" data-location="Airport" data-page="Handpost" data-miles="8.2">
						<img src="image/Icon/AirportIcon.jpg" />
					</div>
					
					<div class="imgCircle ringNine" data-location="Power" data-page="Pagoda" data-miles="7.6">
						<img src="image/Icon/PowerIcon.jpg" />
					</div>
					
					<div class="imgCircle ringTen" data-location="Hillside" data-page="Visage" data-miles="10">
						<img src="image/Icon/HillsideIcon.jpg" />
					</div>
					
					<div class="imgCircle ringEleven" data-location="Business" data-page="Peephole" data-miles="7.1">
						<img src="image/Icon/BusinessIcon.jpg" />
					</div>
					
					<div class="imgCircle ringTwelve" data-location="Hyland" data-page="Patrol" data-miles="10">
						<img src="image/Icon/HylandIcon.jpg" />
					</div>
					
					<div class="imgCircle ringThirteen" data-location="Ways" data-page="Watchtower" data-miles="5">
						<img src="image/Icon/WaysIcon.jpg" />
					</div>
					
					<div class="imgCircle ringFourteen" data-location="Skyline" data-page="Observatory" data-miles="5">
						<img src="image/Icon/SkylineIcon.jpg" />
					</div>
					
					<div class="imgCircle ringFifteen" data-location="City" data-page="Outlook" data-miles="14.1">
						<img src="image/Icon/CityIcon.jpg" />
					</div>
					
					
					
					
					<script>
						$(document).ready(function(){
								//a href="pov.html?Image=Home&Name=Sentinel&Miles=.5">
								
								//$("body").css(background,"green");
								document.body.style.background = "#40bf80";
								
								function PinLayout () {
									//var pins = document.getElementsByClassName("imgCircle");
									var pins = $(".imgCircle");
									
									//for(var i = 0; i < pins.length; i++)
									{
										//pins[i].style.display = "block";
										$(".imgCircle").each(function(){
											//$(this).css({"width":"0", "height":"0"});
											$(this).velocity({width:"3.2vh", height:"3.2vh"},{duration:400, delay:3000+(150*($(this).index()-8)),easing:"spring"});
										});
									}
								}
								
								window.onload = function(){
									PinLayout();
								};
								
								$(window).on('beforeunload', function(){
									return "MAP PROGRESS WILL RESET. Use POV button to navigate";
								});
								
								$(".imgCircle").bind("click", DisplayPov);
								
								function DisplayPov () {
								
									//$(this).data("miles", $(".odometer-last-value").html());
								
									//console.log($("#miles").html());
									
									document.getElementById("mapOverlay").style.display = "none";
									document.getElementById("screenOverlay").style.display = "block";
									
									document.getElementById("povBackground").style.backgroundImage = "url('image/"+$(this).data("location")+".jpg')";
									
									document.getElementById("pageTitle").innerHTML = $(this).data("page");
									
									document.getElementById("distance").innerHTML = $(this).data("miles")+" Miles";
									
									document.getElementById("poemContain").innerHTML = poemArray[$(this).data("page")];
									
									$(this).addClass("viewed");
									
									
								}
								
								$('#miniUI').click(function(){
									//document.getElementById("povUI").style.display = "block";
									//document.getElementById("miniUI").style.display = "none";
									 SwirlIn("povUI", 2000);
								});
								
								$("#hidePoem").click(function(){
									//document.getElementById("povUI").style.display = "none";
									//document.getElementById("miniUI").style.display = "block";
									 SwirlOut("povUI", "13%", 1000);
								});
								
								$("#povTab").click(function(){
									document.getElementById("mapOverlay").style.display = "block";
									document.getElementById("screenOverlay").style.display = "none";
								});
								
								$('#outerCircle').hover(function(){
									document.getElementById('svg').style.display = "block";
									document.getElementById('milesBox').style.display = "block";
										//document.getElementById('odoTitle').style.display = "inline-block";
										//document.getElementById('centerCircle').style.background = "rgb(255,0,0)";
										//document.getElementById('centerCircle').style.border = "4px solid red";
										
								}, function(){
									document.getElementById('svg').style.display = "none";
									document.getElementById('milesBox').style.display = "none";
										//document.getElementById('odoTitle').style.display = "none";
										//document.getElementById('centerCircle').style.background = "transparent";
										//document.getElementById('centerCircle').style.border = "1px solid white";
								});
								
								$('.imgCircle').hover(function(){
									document.getElementById('outerCircle').style.background = "rgba(0,0,0,.3)";
										//document.getElementById('centerCircle').style.background = "rgb(255,0,0)";
										//document.getElementById('centerCircle').style.border = "4px solid red";
										
								}, function(){
									document.getElementById('outerCircle').style.background = "rgba(255,255,255,.0)";
										//document.getElementById('centerCircle').style.background = "transparent";
										//document.getElementById('centerCircle').style.border = "1px solid white";
								});
								
								
								
								document.getElementById("outerCircle").onmousemove = function() {
									var isHovered = $('#outerCircle').is(":hover");
									if(isHovered){
										DrawLine();
									}
								};
								
								function DrawLine(){
									
									line1 = $('#line1');
									div1 = $('#centerCircle');
									var horizontalCenter = Math.floor(window.innerWidth/2);
									var verticalCener = Math.floor(window.innerHeight/2);
									
									var pos1 = [horizontalCenter, verticalCener];//div1.offset();
									var pos2 = [event.pageX, event.pageY];
										//console.log(pos1+", "+pos2);
										line1.attr('x1',pos1[0]).attr('y1',pos1[1]).attr('x2',pos2[0]).attr('y2',pos2[1]);
										
										var outerRadius = $('#outerCircle').width() / 2;
										document.getElementById("miles").innerHTML = Math.round(20 *
											(Math.sqrt(
												Math.pow(pos2[0]-pos1[0],2) +
												Math.pow(pos2[1]-pos1[1],2)
											) / outerRadius)
										);
										
										
										$("#milesBox").css('top', pos2[1]+30);
										$("#milesBox").css('left', pos2[0]+75);
											//$("#odoTitle").css('top', pos2[1]+4);
											//$("#odoTitle").css('left', pos2[0]+10);
								}
								
								var poemArray = {};
								poemArray["Lantern"] = "<p>Storm. Rain. River. Stones.</p><p>Wet. Leaves. Tender. Bones.</p><p>Going, home. Going, home.</p>";
								poemArray["Beacon"] = "<p>Even after you move,</p><p>Your muscles still turn the steering wheel to your old house.</p><p>You tell your brain that the movements are wrong but still you do it,</p><p>In case you drive back to what used to be and find that it is still yours.</p>";
								poemArray["Guidepost"] = "<p>You are my secret home:</p><p>The quiet displacement, unraveling features,</p><p>A too warm bath on a too cold night.</p><p>I never want to leave.</p>";
								poemArray["Sentinel"] = "<p>They told me to think of home.</p><p>And home is usually a building or at least a town.</p><p>But I never thought that when they told me to think of home,</p><p>I would think of you.</p>";
								poemArray["Indication"] = "<p>How do I get back home?</p><p>#home #divorce #homesick</p>";
								
								poemArray["Landmark"] = "<p>When you realized my walls couldn't be knocked down,</p><p>You built a roof on them and called it home.</p>";
								poemArray["Crest"] = '<p>She didn'+"'"+'t take me to,</p><p>"Places I have never been before."</p><p>She took me home.</p><p></p>';
								poemArray["Handpost"] = "<p>You feel safe, darling.</p><p>Just like home,</p><p>When it's raining.</p><p></p>";
								poemArray["Pagoda"] = "<p>A home built in a hot climate,</p><p>Becomes the breeze.</p><p></p><p></p>";
								poemArray["Visage"] = "<p>Run through the rubble,</p><p>Floating on cigarette breath.</p><p>Keep me; I am home.</p><p></p>";
								
								poemArray["Peephole"] = "<p>A house is where you live.</p><p>Home is where you belong.</p>";
								poemArray["Patrol"] = "<p>I was nomadic,</p><p>But I found a home in you.</p><p></p><p></p>";
								poemArray["Watchtower"] = "<p>In your heart and your mind, venture to find,</p><p>A place of your own, a place called home.</p>";
								poemArray["Observatory"] = "<p>Seeking solace in roaring whispers.</p><p>The wild feels like home to me.</p><p></p>";
								poemArray["Outlook"] = "<p>Home is where you want to be.</p><p></p><p></p>";
								
						});
					</script>
				</div>
				
				
				<div id="homeTitle" class="mapTitle">
					<h1 class="mapText">Map</h1>
				</div>
				
				<div id="povNavBar" class="two">
					<a href="archive.html"><div id="homeTab" class="two"><p class="povNavText">Home</p></div></a>
					<a href="about.html"><div id="aboutTab" class="two"><p class="povNavText">About</p></div></a>
					<div class="two pov mapPovPhase"><p class="buttonText mapPov">POV</p></div>
				</div>
			</div>
			
			<!--POV SCREEN OVERLAY-->
			<div id="screenOverlay">
				
				<div id="homeTitle" class="title povPage">
					<h1 id="pageTitle" class="povTitle">Beacon</h1>
				</div>
				<div id="povBackground"></div>
				
				<div id="miniUI" class="two"></div>
				
				<div id="povUI" class="">
					<div id="poemContain"></div>
					<div id="milesFrom" class="five"><p id="distance">2.7 Miles</p></div>
					<div id="povTab" class="three pov"><p class="buttonText">POV</p></div>
					<div id="hidePoem"><p>Hide Menu</p></div>
					
					<script>
						function SwirlOut(element, time){
							//document.getElementById(element).style.display = "block";
							//$("povUI p").velocity({opacity:0},{duration:0});
							
							$("#"+element).velocity("fadeOut",{duration:1500, easing:"linear", complete: function(){
								document.getElementById("povUI").style.display = "none";
								$("#miniUI").css("left","110%");
								document.getElementById("miniUI").style.display = "block";
								$("#miniUI").velocity({left:"85%"},{duration:1000, easing:"spring"});
							}});
						}
						function SwirlIn(element, place, time){
						
							document.getElementById("povUI").style.display = "block";
							document.getElementById("miniUI").style.display = "none";
							
							//document.getElementById(element).style.display = "block";
							//$("povUI p").velocity({opacity:0},{duration:0});
							
							$("#"+element).velocity("fadeIn",{duration:time, easing:"spring"});
							
							/*$("#povTab").velocity({height:"15vh", width:"auto"},{duration:time,easing:"easeSineIn"});
							$("#milesFrom").velocity({height:"5vh", width:"auto"},{duration:time,easing:"easeSineIn"});
							$("#hidePoem").velocity({height:"3vh", width:"20vh"},{duration:time,easing:"easeSineIn"});
							*/
							
						}
					</script>
				</div>
			</div>
			
		</div>
		
		
		
	</body>
	
</html>